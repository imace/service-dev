@startuml

title 获取排行数据

(*)-->"获取排行数据请求"
-->"访问数据接口层"
-->"更新排行表中取出应用"
if "是否大于或等于150" then

-->[true]"取出前150条数据返回上层"

else

-->[false]"取出所有数据"
-->"从数据库中取出数据补足150"
note right:  此时取出的数据不应/n再排行表中存在的数据
-->"返回数据"

endif

@enduml